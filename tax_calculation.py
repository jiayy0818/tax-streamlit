def tax_cal(x):
    '''
    :param x: 全年应纳税所得额
    :return: 个人所得税（综合所得）
    '''

    # 征税阶梯
    ls1 = [0, 36000, 144000, 300000, 420000, 660000, 960000]
    # 税率阶梯
    ls2 = [0.03, 0.1, 0.2, 0.25, 0.3, 0.35, 0.45]
    # 速算扣除数
    ls3 = [0, 2520, 16920, 31920, 52920, 85920, 181920]

    i = 0
    while i in range(0,len(ls1)-1):
        if ls1[i] < x <= ls1[i+1]:
            return (x*ls2[i])-ls3[i]
        else:
            i = i + 1

    if i == len(ls1)-1:
        return (x*ls2[i])-ls3[i]
